import{I as V,u as $,c as U,w as d,a as r,b as a,g as _,f as o,n as A,d as i,e as C,m as u,z as k,t as c,o as l,F as f,h as y,A as b}from"./app-BN2_oI1u.js";import{_ as B}from"./AppLayout-BLhEGTFG.js";import{_ as F}from"./FormSection-RT1SQZma.js";import{_ as m}from"./InputError-DsnZn7KN.js";import{_ as n}from"./InputLabel-CoFE8SVv.js";import{_ as N}from"./PrimaryButton-Byz3xMw-.js";import{_ as S}from"./SecondaryButton-BrpUzYZr.js";import{_ as q}from"./TextInput-DWcNuRxO.js";/* empty css            */import"./SectionTitle-f82yOh5r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"py-10"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"col-span-6 sm:col-span-4"},M={class:"col-span-6 sm:col-span-4"},T={class:"col-span-6 sm:col-span-4"},E={class:"mt-1 block w-full bg-gray-700/30 border border-gray-600 text-gray-400 rounded-md shadow-sm px-3 py-2.5"},L={key:0,class:"col-span-6 sm:col-span-4"},P=["value"],j={key:1,class:"col-span-6 sm:col-span-4"},G={class:"mt-1 block w-full bg-gray-700/30 border border-gray-600 text-gray-400 rounded-md shadow-sm px-3 py-2.5"},H={class:"col-span-6 sm:col-span-4"},J=["value"],K={key:2,class:"col-span-6 sm:col-span-4"},O=["value"],Q={class:"col-span-6 sm:col-span-4"},R=["value"],de={__name:"Create",props:{statuses:Array,problems:Array,stores:Array,cashes:Array,categories:Array},setup(p){const x=V().props.auth.user.ticket_category_id||null,t=$({title:"",description:"",status_id:1,problem_id:"",store_id:null,cash_id:null,ticket_category_id:x||""}),h=()=>{t.post(route("tickets.store"),{preserveScroll:!0})};return(g,e)=>(l(),U(B,{title:"Создать заявку"},{header:d(()=>[...e[9]||(e[9]=[r("h2",{class:"font-semibold text-xl text-white leading-tight"}," Создать новую заявку ",-1)])]),default:d(()=>[r("div",z,[r("div",D,[a(F,{onSubmitted:h},{title:d(()=>[...e[10]||(e[10]=[_(" Информация о заявке ",-1)])]),description:d(()=>[...e[11]||(e[11]=[_(" Заполните форму для создания новой заявки. Поля отмеченные звездочкой (*) обязательны для заполнения. ",-1)])]),form:d(()=>{var v,w;return[r("div",I,[a(n,{for:"title",value:"Название *"}),a(q,{id:"title",modelValue:o(t).title,"onUpdate:modelValue":e[0]||(e[0]=s=>o(t).title=s),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),a(m,{message:o(t).errors.title,class:"mt-2"},null,8,["message"])]),r("div",M,[a(n,{for:"description",value:"Описание"}),u(r("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=s=>o(t).description=s),class:"mt-1 block w-full bg-gray-700/50 border-gray-600 text-white placeholder-gray-400 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm",rows:"5",placeholder:"Подробное описание проблемы..."},null,512),[[k,o(t).description]]),a(m,{message:o(t).errors.description,class:"mt-2"},null,8,["message"])]),r("div",T,[a(n,{for:"status_id",value:"Статус *"}),r("div",E,c(((v=p.statuses.find(s=>s.id===1))==null?void 0:v.name)||"Создана"),1),u(r("input",{type:"hidden","onUpdate:modelValue":e[2]||(e[2]=s=>o(t).status_id=s)},null,512),[[k,o(t).status_id]]),a(m,{message:o(t).errors.status_id,class:"mt-2"},null,8,["message"])]),g.$page.props.auth.user.ticket_category_id?(l(),i("div",j,[a(n,{for:"ticket_category_id",value:"Категория *"}),r("div",G,c(((w=p.categories.find(s=>s.id===g.$page.props.auth.user.ticket_category_id))==null?void 0:w.name)||"Не указана"),1),u(r("input",{type:"hidden","onUpdate:modelValue":e[4]||(e[4]=s=>o(t).ticket_category_id=s)},null,512),[[k,o(t).ticket_category_id]])])):(l(),i("div",L,[a(n,{for:"ticket_category_id",value:"Категория *"}),u(r("select",{id:"ticket_category_id","onUpdate:modelValue":e[3]||(e[3]=s=>o(t).ticket_category_id=s),class:"mt-1 block w-full bg-gray-700/50 border-gray-600 text-white focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm",required:""},[e[12]||(e[12]=r("option",{value:""},"Выберите категорию",-1)),(l(!0),i(f,null,y(p.categories,s=>(l(),i("option",{key:s.id,value:s.id},c(s.name),9,P))),128))],512),[[b,o(t).ticket_category_id]]),a(m,{message:o(t).errors.ticket_category_id,class:"mt-2"},null,8,["message"])])),r("div",H,[a(n,{for:"problem_id",value:"Тип проблемы *"}),u(r("select",{id:"problem_id","onUpdate:modelValue":e[5]||(e[5]=s=>o(t).problem_id=s),class:"mt-1 block w-full bg-gray-700/50 border-gray-600 text-white focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm",required:""},[e[13]||(e[13]=r("option",{value:""},"Выберите тип проблемы",-1)),(l(!0),i(f,null,y(p.problems,s=>(l(),i("option",{key:s.id,value:s.id},c(s.name),9,J))),128))],512),[[b,o(t).problem_id]]),a(m,{message:o(t).errors.problem_id,class:"mt-2"},null,8,["message"])]),g.$page.props.auth.user.store_id?C("",!0):(l(),i("div",K,[a(n,{for:"store_id",value:"Магазин"}),u(r("select",{id:"store_id","onUpdate:modelValue":e[6]||(e[6]=s=>o(t).store_id=s),class:"mt-1 block w-full bg-gray-700/50 border-gray-600 text-white focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm"},[e[14]||(e[14]=r("option",{value:null},"Не выбрано",-1)),(l(!0),i(f,null,y(p.stores,s=>(l(),i("option",{key:s.id,value:s.id},c(s.name),9,O))),128))],512),[[b,o(t).store_id]]),a(m,{message:o(t).errors.store_id,class:"mt-2"},null,8,["message"])])),r("div",Q,[a(n,{for:"cash_id",value:"Касса"}),u(r("select",{id:"cash_id","onUpdate:modelValue":e[7]||(e[7]=s=>o(t).cash_id=s),class:"mt-1 block w-full bg-gray-700/50 border-gray-600 text-white focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm"},[e[15]||(e[15]=r("option",{value:null},"Не выбрано",-1)),(l(!0),i(f,null,y(p.cashes,s=>(l(),i("option",{key:s.id,value:s.id},c(s.name),9,R))),128))],512),[[b,o(t).cash_id]]),a(m,{message:o(t).errors.cash_id,class:"mt-2"},null,8,["message"])])]}),actions:d(()=>[a(S,{type:"button",onClick:e[8]||(e[8]=v=>g.$inertia.visit(g.route("tickets.index"))),class:"mr-3"},{default:d(()=>[...e[16]||(e[16]=[_(" Отмена ",-1)])]),_:1}),a(N,{class:A({"opacity-25":o(t).processing}),disabled:o(t).processing},{default:d(()=>[...e[17]||(e[17]=[_(" Создать заявку ",-1)])]),_:1},8,["class","disabled"])]),_:1})])])]),_:1}))}};export{de as default};
