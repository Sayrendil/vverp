import{r as u,u as h,d as s,b as o,f as t,i as k,w as m,a as l,o as a,F as n,g as d,j as g,n as w,p as V}from"./app-BN2_oI1u.js";import{A as C}from"./AuthenticationCard-C3CUf11e.js";import{_ as $}from"./AuthenticationCardLogo-CyEQaA6V.js";import{_}from"./InputError-DsnZn7KN.js";import{_ as y}from"./InputLabel-CoFE8SVv.js";import{_ as F}from"./PrimaryButton-Byz3xMw-.js";import{_ as v}from"./TextInput-DWcNuRxO.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"mb-8 text-center"},j={class:"text-gray-400"},B={key:0},N={key:1},T={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},J={__name:"TwoFactorChallenge",setup(A){const c=u(!1),e=h({code:"",recovery_code:""}),f=u(null),p=u(null),x=async()=>{c.value^=!0,await V(),c.value?(f.value.focus(),e.code=""):(p.value.focus(),e.recovery_code="")},b=()=>{e.post(route("two-factor.login"))};return(U,r)=>(a(),s(n,null,[o(t(k),{title:"Двухфакторная аутентификация"}),o(C,null,{logo:m(()=>[o($)]),default:m(()=>[l("div",I,[r[2]||(r[2]=l("h2",{class:"text-3xl font-bold text-white mb-2"},"Двухфакторная аутентификация",-1)),l("p",j,[c.value?(a(),s(n,{key:1},[d(" Пожалуйста, подтвердите доступ к вашему аккаунту, введя один из ваших резервных кодов восстановления. ")],64)):(a(),s(n,{key:0},[d(" Пожалуйста, подтвердите доступ к вашему аккаунту, введя код аутентификации из вашего приложения-аутентификатора. ")],64))])]),l("form",{onSubmit:g(b,["prevent"]),class:"space-y-6"},[c.value?(a(),s("div",N,[o(y,{for:"recovery_code",value:"Код восстановления",class:"text-gray-300"}),o(v,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:f,modelValue:t(e).recovery_code,"onUpdate:modelValue":r[1]||(r[1]=i=>t(e).recovery_code=i),type:"text",class:"mt-1 block w-full bg-gray-700/50 border-gray-600 text-white placeholder-gray-400 focus:border-green-500 focus:ring-green-500",autocomplete:"one-time-code",placeholder:"abcd-efgh-ijkl"},null,8,["modelValue"]),o(_,{class:"mt-2",message:t(e).errors.recovery_code},null,8,["message"])])):(a(),s("div",B,[o(y,{for:"code",value:"Код",class:"text-gray-300"}),o(v,{id:"code",ref_key:"codeInput",ref:p,modelValue:t(e).code,"onUpdate:modelValue":r[0]||(r[0]=i=>t(e).code=i),type:"text",inputmode:"numeric",class:"mt-1 block w-full bg-gray-700/50 border-gray-600 text-white placeholder-gray-400 focus:border-green-500 focus:ring-green-500",autofocus:"",autocomplete:"one-time-code",placeholder:"123456"},null,8,["modelValue"]),o(_,{class:"mt-2",message:t(e).errors.code},null,8,["message"])])),l("div",T,[l("button",{type:"button",class:"text-sm text-green-400 hover:text-green-300 underline cursor-pointer transition-colors",onClick:g(x,["prevent"])},[c.value?(a(),s(n,{key:1},[d(" Использовать код аутентификации ")],64)):(a(),s(n,{key:0},[d(" Использовать код восстановления ")],64))]),o(F,{class:w(["w-full sm:w-auto px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 focus:ring-green-500",{"opacity-50":t(e).processing}]),disabled:t(e).processing},{default:m(()=>[...r[3]||(r[3]=[d(" Войти ",-1)])]),_:1},8,["class","disabled"])])],32)]),_:1})],64))}};export{J as default};
