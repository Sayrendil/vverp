import{u as h,r as z,k as v,c as p,w as b,a as t,d,e as c,t as a,o,F as g,h as k,f as n,l as w,j as I,m as N,z as $,s as D,b as H,C as x}from"./app-CP4UpOIz.js";import{_ as O}from"./AppLayout-O7ATnjip.js";/* empty css            */const P={class:"flex items-center justify-between"},T={class:"flex items-center space-x-3"},U={class:"flex items-center space-x-2"},E={class:"text-lg"},q={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},G={class:"py-6"},J={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},K={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Q={class:"lg:col-span-2 space-y-6"},R={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},W={class:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4"},X={key:0,class:"prose dark:prose-invert max-w-none"},Y={class:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap"},Z={key:1,class:"text-gray-500 dark:text-gray-400 italic"},tt={key:0,class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},et={class:"space-y-2"},st={class:"mr-2"},rt={class:"flex-1 text-gray-900 dark:text-gray-100"},at={class:"text-xs text-gray-500 dark:text-gray-400"},ot={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},dt={key:0,class:"space-y-2 mb-4"},lt={class:"flex items-center space-x-3"},it=["href"],nt={class:"text-xs text-gray-500 dark:text-gray-400"},ut=["onClick"],ct={class:"flex items-center space-x-2"},gt=["disabled"],kt={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},xt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},yt={key:0,class:"space-y-4 mb-6"},mt={class:"flex items-start justify-between mb-2"},bt={class:"flex items-center space-x-2"},ft=["src","alt"],ht={key:1,class:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-bold"},vt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},pt={class:"text-xs text-gray-500 dark:text-gray-400"},wt=["onClick"],_t={class:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap"},Ct=["disabled"],jt={key:1,class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6"},St={class:"space-y-3"},At={class:"text-gray-500 dark:text-gray-400"},Bt={class:"flex-1 text-gray-700 dark:text-gray-300"},Mt={class:"space-y-6"},Vt={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-4"},Ft=["value"],Lt=["value"],zt={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-4"},It=["value"],Nt=["value"],$t={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-4"},Dt=["value"],Ht={key:0,class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-4"},Ot={class:"flex flex-wrap gap-2"},Pt={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-4 space-y-3 text-sm"},Tt={class:"font-medium text-gray-900 dark:text-gray-100"},Ut={class:"font-medium text-gray-900 dark:text-gray-100"},Et={class:"font-medium text-gray-900 dark:text-gray-100"},qt={key:0},Gt={class:"font-medium text-gray-900 dark:text-gray-100"},Jt={key:1},Kt={class:"font-medium text-gray-900 dark:text-gray-100"},Xt={__name:"Show",props:{task:Object,project:Object,statuses:Array,members:Array,labels:Array},setup(r){const i=r,u=h({content:""}),y=h({file:null}),m=z(null),_=v(()=>({task:"üìã",bug:"üêõ",feature:"‚≠ê",improvement:"üîß"})[i.task.type]||"üìã");v(()=>({critical:"üî¥",high:"üü†",medium:"üü°",low:"üü¢"})[i.task.priority]||"üü¢");const C=l=>{x.post(route("tasks.update-status",i.task.id),{status_id:l},{preserveScroll:!0})},j=l=>{x.post(route("tasks.update-assignee",i.task.id),{assignee_id:l},{preserveScroll:!0})},S=l=>{x.post(route("tasks.update-priority",i.task.id),{priority:l},{preserveScroll:!0})},A=()=>{u.post(route("tasks.comments.store",i.task.id),{preserveScroll:!0,onSuccess:()=>{u.reset()}})},B=l=>{confirm("–£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?")&&x.delete(route("tasks.comments.destroy",l),{preserveScroll:!0})},M=()=>{var l;(l=m.value)!=null&&l.files[0]&&(y.file=m.value.files[0],y.post(route("tasks.attachments.store",i.task.id),{preserveScroll:!0,onSuccess:()=>{y.reset(),m.value.value=""}}))},V=l=>{confirm("–£–¥–∞–ª–∏—Ç—å –≤–ª–æ–∂–µ–Ω–∏–µ?")&&x.delete(route("tasks.attachments.destroy",l),{preserveScroll:!0})},F=()=>{confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.")&&x.delete(route("tasks.destroy",i.task.id),{onSuccess:()=>{x.visit(route("projects.show",i.project.key))}})};return(l,s)=>(o(),p(O,{title:r.task.key},{header:b(()=>[t("div",P,[t("div",T,[H(n(w),{href:l.route("projects.show",r.project.key),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},{default:b(()=>[...s[4]||(s[4]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1},8,["href"]),t("div",null,[t("div",U,[t("span",E,a(_.value),1),t("h2",q,a(r.task.key),1)])])]),t("div",{class:"flex items-center space-x-2"},[t("button",{onClick:F,class:"inline-flex items-center px-3 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition"}," üóëÔ∏è –£–¥–∞–ª–∏—Ç—å ")])])]),default:b(()=>{var f;return[t("div",G,[t("div",J,[t("div",K,[t("div",Q,[t("div",R,[t("h1",W,a(r.task.title),1),r.task.description?(o(),d("div",X,[t("div",Y,a(r.task.description),1)])):(o(),d("div",Z," –û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç "))]),r.task.subtasks&&r.task.subtasks.length?(o(),d("div",tt,[s[5]||(s[5]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"}," –ü–æ–¥–∑–∞–¥–∞—á–∏ ",-1)),t("div",et,[(o(!0),d(g,null,k(r.task.subtasks,e=>(o(),p(n(w),{key:e.id,href:l.route("tasks.show",e.id),class:"flex items-center p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition"},{default:b(()=>[t("span",st,a(e.status.is_final?"‚úÖ":"‚è∫Ô∏è"),1),t("span",rt,a(e.key)+" - "+a(e.title),1),t("span",at,a(e.status.name),1)]),_:2},1032,["href"]))),128))])])):c("",!0),t("div",ot,[s[8]||(s[8]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"}," üìé –í–ª–æ–∂–µ–Ω–∏—è ",-1)),r.task.attachments&&r.task.attachments.length?(o(),d("div",dt,[(o(!0),d(g,null,k(r.task.attachments,e=>(o(),d("div",{key:e.id,class:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-700 rounded-lg"},[t("div",lt,[s[6]||(s[6]=t("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),t("div",null,[t("a",{href:e.url,target:"_blank",class:"text-blue-600 dark:text-blue-400 hover:underline"},a(e.file_name),9,it),t("p",nt,a(e.file_size)+" ‚Ä¢ "+a(e.user.name)+" ‚Ä¢ "+a(e.created_at),1)])]),t("button",{onClick:L=>V(e.id),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"},[...s[7]||(s[7]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ut)]))),128))])):c("",!0),t("div",ct,[t("input",{ref_key:"fileInput",ref:m,type:"file",class:"flex-1 text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-300"},null,512),t("button",{onClick:M,disabled:n(y).processing,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition"},a(n(y).processing?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–ó–∞–≥—Ä—É–∑–∏—Ç—å"),9,gt)])]),t("div",kt,[t("h3",xt," üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ("+a(r.task.comments.length)+") ",1),r.task.comments&&r.task.comments.length?(o(),d("div",yt,[(o(!0),d(g,null,k(r.task.comments,e=>(o(),d("div",{key:e.id,class:"border-l-4 border-blue-500 pl-4 py-2"},[t("div",mt,[t("div",bt,[e.user.profile_photo_url?(o(),d("img",{key:0,src:e.user.profile_photo_url,alt:e.user.name,class:"w-8 h-8 rounded-full"},null,8,ft)):(o(),d("div",ht,a(e.user.name.charAt(0).toUpperCase()),1)),t("div",null,[t("p",vt,a(e.user.name),1),t("p",pt,a(e.created_at),1)])]),t("button",{onClick:L=>B(e.id),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"},[...s[9]||(s[9]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,wt)]),t("p",_t,a(e.content),1)]))),128))])):c("",!0),t("form",{onSubmit:I(A,["prevent"])},[N(t("textarea",{"onUpdate:modelValue":s[0]||(s[0]=e=>n(u).content=e),rows:"3",placeholder:"–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...",class:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 dark:focus:border-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600 rounded-md shadow-sm mb-2"},null,512),[[$,n(u).content]]),t("button",{type:"submit",disabled:!n(u).content||n(u).processing,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition"},a(n(u).processing?"–û—Ç–ø—Ä–∞–≤–∫–∞...":"–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"),9,Ct)],32)]),r.task.activities&&r.task.activities.length?(o(),d("div",jt,[s[10]||(s[10]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"}," üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π ",-1)),t("div",St,[(o(!0),d(g,null,k(r.task.activities,e=>(o(),d("div",{key:e.id,class:"flex items-start space-x-3 text-sm"},[t("span",At,a(e.created_at),1),t("p",Bt,a(e.description),1)]))),128))])])):c("",!0)]),t("div",Mt,[t("div",Vt,[s[11]||(s[11]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," –°—Ç–∞—Ç—É—Å ",-1)),t("select",{value:r.task.status_id,onChange:s[1]||(s[1]=e=>C(e.target.value)),class:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 dark:focus:border-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600 rounded-md shadow-sm"},[(o(!0),d(g,null,k(r.statuses,e=>(o(),d("option",{key:e.id,value:e.id},a(e.name),9,Lt))),128))],40,Ft)]),t("div",zt,[s[13]||(s[13]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å ",-1)),t("select",{value:(f=r.task.assignee)==null?void 0:f.id,onChange:s[2]||(s[2]=e=>j(e.target.value||null)),class:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 dark:focus:border-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600 rounded-md shadow-sm"},[s[12]||(s[12]=t("option",{value:null},"–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω",-1)),(o(!0),d(g,null,k(r.members,e=>(o(),d("option",{key:e.id,value:e.id},a(e.name),9,Nt))),128))],40,It)]),t("div",$t,[s[15]||(s[15]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç ",-1)),t("select",{value:r.task.priority,onChange:s[3]||(s[3]=e=>S(e.target.value)),class:"w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 dark:focus:border-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600 rounded-md shadow-sm"},[...s[14]||(s[14]=[t("option",{value:"critical"},"üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π",-1),t("option",{value:"high"},"üü† –í—ã—Å–æ–∫–∏–π",-1),t("option",{value:"medium"},"üü° –°—Ä–µ–¥–Ω–∏–π",-1),t("option",{value:"low"},"üü¢ –ù–∏–∑–∫–∏–π",-1)])],40,Dt)]),r.task.labels&&r.task.labels.length?(o(),d("div",Ht,[s[16]||(s[16]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," –ú–µ—Ç–∫–∏ ",-1)),t("div",Ot,[(o(!0),d(g,null,k(r.task.labels,e=>(o(),d("span",{key:e.id,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium text-white",style:D({backgroundColor:e.color})},a(e.name),5))),128))])])):c("",!0),t("div",Pt,[t("div",null,[s[17]||(s[17]=t("span",{class:"text-gray-500 dark:text-gray-400"},"–°–æ–∑–¥–∞–ª:",-1)),t("p",Tt,a(r.task.reporter.name),1)]),t("div",null,[s[18]||(s[18]=t("span",{class:"text-gray-500 dark:text-gray-400"},"–°–æ–∑–¥–∞–Ω–∞:",-1)),t("p",Ut,a(r.task.created_at),1)]),t("div",null,[s[19]||(s[19]=t("span",{class:"text-gray-500 dark:text-gray-400"},"–û–±–Ω–æ–≤–ª–µ–Ω–∞:",-1)),t("p",Et,a(r.task.updated_at),1)]),r.task.due_date?(o(),d("div",qt,[s[20]||(s[20]=t("span",{class:"text-gray-500 dark:text-gray-400"},"–î–µ–¥–ª–∞–π–Ω:",-1)),t("p",Gt,a(r.task.due_date),1)])):c("",!0),r.task.story_points?(o(),d("div",Jt,[s[21]||(s[21]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Story Points:",-1)),t("p",Kt,a(r.task.story_points),1)])):c("",!0)])])])])])]}),_:1},8,["title"]))}};export{Xt as default};
