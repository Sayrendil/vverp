import{r as b,c as p,w as x,b as g,a as t,f as m,i as w,d,e as c,l as u,g as n,t as a,o as r,n as _,F as C,h as M,C as B}from"./app-CP4UpOIz.js";import{_ as z}from"./AppLayout-O7ATnjip.js";/* empty css            */const N={class:"py-6 sm:py-12"},V={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},j={class:"mb-4 sm:mb-6"},L={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-2"},H={class:"text-gray-900 dark:text-gray-100"},A={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},D={class:"text-xl sm:text-2xl font-semibold text-gray-800 dark:text-gray-100"},U={class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},S={key:0,class:"mt-1 text-sm text-gray-500 dark:text-gray-500"},$={class:"flex items-center gap-3"},E=["disabled"],F={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},R={class:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 mb-8"},T={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},q={class:"flex items-center"},O={class:"ml-5 w-0 flex-1"},G={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},I={class:"flex items-baseline"},J={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},K={class:"flex items-center"},P={class:"ml-5 w-0 flex-1"},Q={class:"flex items-baseline"},W={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},X={class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},Y={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},Z={class:"flex items-center"},tt={class:"ml-5 w-0 flex-1"},et={class:"flex items-baseline"},st={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},at={key:0,class:"ml-2 text-sm text-gray-600 dark:text-gray-400"},it={key:0,class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},rt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},dt={class:"flex items-center"},ot={class:"ml-5 w-0 flex-1"},lt={class:"flex items-baseline"},nt={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},ct={key:0,class:"bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg overflow-hidden"},xt={class:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700"},gt={class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},mt={class:"overflow-x-auto"},ut={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ht={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},yt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},kt={class:"px-6 py-4 whitespace-nowrap"},ft={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"},vt={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},pt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},wt={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate"},_t={class:"mt-8 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 shadow-sm"},Ct={class:"flex"},Mt={class:"ml-3 flex-1"},Bt={class:"mt-2 text-sm text-blue-700 dark:text-blue-300"},zt={class:"list-disc list-inside space-y-1"},Lt={__name:"HostDetails",props:{statistics:{type:Object,required:!0},days:{type:Number,default:7}},setup(s){const h=s,l=b(!1),y=i=>i>=99?"text-green-600 dark:text-green-400":i>=95?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",k=async()=>{if(!l.value){l.value=!0;try{const i=await axios.post(route("monitoring.check-host",h.statistics.host.id));i.data.success&&alert(`‚úÖ ${i.data.message}`)}catch(i){console.error("Error checking host:",i),alert("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≤–µ—Ä–∫–∏")}finally{l.value=!1,setTimeout(()=>{B.reload({only:["statistics"]})},3e3)}}},f=i=>i==null?"N/A":i.toLocaleString("ru-RU"),v=i=>new Date(i).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return(i,e)=>(r(),p(z,{title:"–î–µ—Ç–∞–ª–∏ —Ö–æ—Å—Ç–∞"},{default:x(()=>[g(m(w),{title:`–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: ${s.statistics.host.name}`},null,8,["title"]),t("div",N,[t("div",V,[t("div",j,[t("div",L,[g(m(u),{href:i.route("monitoring.index"),class:"hover:text-gray-900 dark:hover:text-gray-200"},{default:x(()=>[...e[0]||(e[0]=[n(" –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ",-1)])]),_:1},8,["href"]),e[1]||(e[1]=t("span",null,"/",-1)),t("span",H,a(s.statistics.host.name),1)]),t("div",A,[t("div",null,[t("h2",D," üñ•Ô∏è "+a(s.statistics.host.name),1),t("p",U,a(s.statistics.host.store.name)+" ‚Ä¢ "+a(s.statistics.host.ip_address),1),s.statistics.host.description?(r(),d("p",S,a(s.statistics.host.description),1)):c("",!0)]),t("div",$,[t("button",{onClick:k,disabled:l.value,class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:ring focus:ring-green-300 disabled:opacity-50 transition"},[l.value?(r(),d("svg",F,[...e[2]||(e[2]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):c("",!0),n(" "+a(l.value?"–ü—Ä–æ–≤–µ—Ä–∫–∞...":"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–π—á–∞—Å"),1)],8,E),g(m(u),{href:i.route("dictionaries.show","hosts"),class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-25 transition"},{default:x(()=>[...e[3]||(e[3]=[n(" –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ",-1)])]),_:1},8,["href"])])])]),t("div",R,[t("div",T,[t("div",q,[e[4]||(e[4]=t("div",{class:"flex-shrink-0"},[t("div",{class:"rounded-md bg-green-50 dark:bg-green-900/20 p-3"},[t("svg",{class:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",O,[t("dl",null,[t("dt",G," Uptime ("+a(s.days)+" –¥–Ω–µ–π) ",1),t("dd",I,[t("div",{class:_(["text-2xl font-semibold",y(s.statistics.uptime_percent)])},a(s.statistics.uptime_percent)+"% ",3)])])])])]),t("div",J,[t("div",K,[e[6]||(e[6]=t("div",{class:"flex-shrink-0"},[t("div",{class:"rounded-md bg-blue-50 dark:bg-blue-900/20 p-3"},[t("svg",{class:"h-6 w-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])])],-1)),t("div",P,[t("dl",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," –í—Å–µ–≥–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ ",-1)),t("dd",Q,[t("div",W,a(f(s.statistics.total_checks)),1)]),t("dd",X," ‚úÖ "+a(s.statistics.available_checks)+" / ‚ùå "+a(s.statistics.unavailable_checks),1)])])])]),t("div",Y,[t("div",Z,[e[8]||(e[8]=t("div",{class:"flex-shrink-0"},[t("div",{class:"rounded-md bg-yellow-50 dark:bg-yellow-900/20 p-3"},[t("svg",{class:"h-6 w-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])])],-1)),t("div",tt,[t("dl",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," –°—Ä–µ–¥–Ω–∏–π –æ—Ç–∫–ª–∏–∫ ",-1)),t("dd",et,[t("div",st,a(s.statistics.avg_response_time?Math.round(s.statistics.avg_response_time):"N/A"),1),s.statistics.avg_response_time?(r(),d("div",at," –º—Å ")):c("",!0)]),s.statistics.min_response_time&&s.statistics.max_response_time?(r(),d("dd",it,a(s.statistics.min_response_time)+"–º—Å - "+a(s.statistics.max_response_time)+"–º—Å ",1)):c("",!0)])])])]),t("div",rt,[t("div",dt,[e[10]||(e[10]=t("div",{class:"flex-shrink-0"},[t("div",{class:"rounded-md bg-red-50 dark:bg-red-900/20 p-3"},[t("svg",{class:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])])],-1)),t("div",ot,[t("dl",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," –ü–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤ ",-1)),t("dd",lt,[t("div",nt,a(s.statistics.avg_packet_loss)+"% ",1)])])])])])]),s.statistics.recent_logs&&s.statistics.recent_logs.length>0?(r(),d("div",ct,[t("div",xt,[e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," üìä –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ ",-1)),t("p",gt," –ü–æ—Å–ª–µ–¥–Ω–∏–µ "+a(Math.min(s.statistics.recent_logs.length,20))+" –ø—Ä–æ–≤–µ—Ä–æ–∫ ",1)]),t("div",mt,[t("table",ut,[e[12]||(e[12]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," –í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏ "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," –°—Ç–∞—Ç—É—Å "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," –ü–æ—Ç–µ—Ä–∏ "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," –û—à–∏–±–∫–∞ ")])],-1)),t("tbody",ht,[(r(!0),d(C,null,M(s.statistics.recent_logs.slice(0,20),o=>(r(),d("tr",{key:o.id},[t("td",yt,a(v(o.checked_at)),1),t("td",kt,[o.is_available?(r(),d("span",ft," ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω ")):(r(),d("span",vt," ‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω "))]),t("td",bt,a(o.response_time?o.response_time+" –º—Å":"N/A"),1),t("td",pt,a(o.packet_loss)+"% ",1),t("td",wt,a(o.error_message||"-"),1)]))),128))])])])])):c("",!0),t("div",_t,[t("div",Ct,[e[17]||(e[17]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),t("div",Mt,[e[16]||(e[16]=t("h3",{class:"text-sm font-medium text-blue-800 dark:text-blue-200"}," –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ",-1)),t("div",Bt,[t("ul",zt,[t("li",null,[e[13]||(e[13]=n("–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏: ",-1)),t("strong",null,a(s.statistics.host.check_interval)+" –º–∏–Ω—É—Ç",1)]),t("li",null,[e[14]||(e[14]=n("–¢–∞–π–º–∞—É—Ç: ",-1)),t("strong",null,a(s.statistics.host.timeout)+" —Å–µ–∫—É–Ω–¥",1)]),t("li",null,[e[15]||(e[15]=n("–°—Ç–∞—Ç—É—Å: ",-1)),t("strong",null,a(s.statistics.host.is_active?"‚úÖ –ê–∫—Ç–∏–≤–µ–Ω":"‚ùå –ù–µ–∞–∫—Ç–∏–≤–µ–Ω"),1)])])])])])])])])]),_:1}))}};export{Lt as default};
