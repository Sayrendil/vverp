# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é VVERP

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ù–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Å—Ç–æ–≤ `test-results.txt` –≤—ã—è–≤–ª–µ–Ω–æ:

### –î–æ—Å—Ç—É–ø–Ω—ã–µ Docker –∑–µ—Ä–∫–∞–ª–∞:
- ‚úÖ Google Container Registry Mirror (`mirror.gcr.io`)
- ‚úÖ Timeweb Docker Mirror (`dockerhub.timeweb.cloud`)
- ‚úÖ Huecker Mirror (`huecker.io`)

### –î–æ—Å—Ç—É–ø–Ω—ã–µ APT –∑–µ—Ä–∫–∞–ª–∞:
- ‚úÖ Timeweb Mirror (`mirror.timeweb.ru/debian`)
- ‚úÖ Yandex Mirror (`mirror.yandex.ru/debian`)
- ‚úÖ Debian Russia (`ftp.ru.debian.org/debian`)

### –ü—Ä–æ–±–ª–µ–º–∞:
- ‚ùå Docker Hub Official - –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- ‚ùå Cloudflare CDN - –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

---

## üéØ –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### –í–∞—Ä–∏–∞–Ω—Ç A: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç

```bash
cd /home/erp/vverp

# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x DEPLOY-NOW.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
sudo ./DEPLOY-NOW.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç daemon.json —Å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –∑–µ—Ä–∫–∞–ª–∞–º–∏
2. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç Docker
3. ‚úÖ –ó–∞–≥—Ä—É–∑–∏—Ç –±–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã
4. ‚úÖ –°–æ–±–µ—Ä–µ—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

### –í–∞—Ä–∏–∞–Ω—Ç B: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —à–∞–≥:

#### 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Docker –∑–µ—Ä–∫–∞–ª–∞

```bash
sudo cp daemon.json /etc/docker/daemon.json
sudo systemctl restart docker
```

#### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
sudo docker info | grep -A 5 "Registry Mirrors"
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å 3 –∑–µ—Ä–∫–∞–ª–∞: mirror.gcr.io, dockerhub.timeweb.cloud, huecker.io

#### 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –±–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã

```bash
sudo docker pull serversideup/php:8.2-fpm-nginx
sudo docker pull nginx:alpine
sudo docker pull mysql:8.0
sudo docker pull node:20-alpine
```

#### 4. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ

```bash
sudo docker compose build --no-cache
sudo docker compose up -d
```

---

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
sudo docker compose ps

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo docker compose logs -f

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
sudo docker compose logs -f app
sudo docker compose logs -f queue

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
curl http://localhost
```

---

## üîß –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

–í—Å–µ —Ñ–∞–π–ª—ã —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å —É—á–µ—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–æ–≤:

1. **`Dockerfile`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Timeweb –∑–µ—Ä–∫–∞–ª–æ –¥–ª—è APT
2. **`Dockerfile.queue`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Timeweb –∑–µ—Ä–∫–∞–ª–æ –¥–ª—è APT
3. **`daemon.json`** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã 3 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö Docker –∑–µ—Ä–∫–∞–ª–∞
4. **`docker-compose.yml`** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ Dockerfile'–∞–º

---

## üêõ Troubleshooting

### –ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ –≤—Å–µ –µ—â–µ –ø–∞–¥–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–µ—Ä–∫–∞–ª–∞
sudo docker info | grep -A 5 "Registry"

# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à Docker
sudo docker system prune -a

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Å –Ω—É–ª—è
sudo docker compose down
sudo docker compose build --no-cache --pull
sudo docker compose up -d
```

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
sudo cp /etc/docker/daemon.json.backup /etc/docker/daemon.json
sudo systemctl restart docker
```

---

## üìä –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–° –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –∑–µ—Ä–∫–∞–ª–∞–º–∏:
- –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤: ~2-5 –º–∏–Ω—É—Ç
- –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: ~3-7 –º–∏–Ω—É—Ç
- –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: ~30 —Å–µ–∫—É–Ω–¥

**–û–±—â–µ–µ –≤—Ä–µ–º—è: ~5-15 –º–∏–Ω—É—Ç**

---

## ‚ú® –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
- üåê –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `http://server-ip`
- üì¶ –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ü§ñ Telegram –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
- üìä –û—á–µ—Ä–µ–¥–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

---

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `sudo docker compose exec app php artisan migrate`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram –±–æ—Ç —Ç–æ–∫–µ–Ω
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo docker compose logs -f`

**–£–¥–∞—á–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è! üöÄ**
